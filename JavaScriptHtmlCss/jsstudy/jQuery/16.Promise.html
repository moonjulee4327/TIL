<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // Promise(중요)
    // 나온 배경 : 비동기를 처리할 때 콜백함수를 많이 사용하는데
    // 콜백 안에 콜백 그 안에 콜백 그 안에 콜백식으로 프로그램 코드가 나오는
    // 경우가 있어, 개발자들이 개선을 요구해서
    // 약속은 미래에 끝날 수도 있고, 안 끝날 수도 있다.
    

    // 매개변수 resolve, reject은 함수(콜백) => 이런 형태로 줘 버렸기 때문에 받아들이기
    // 잘 처리되었을 때는 resolve에게 결과 값을
    // 잘 안되었을 때는 reject에게 에러 값을...
    // const f_promise = function(){
    //     return new Promise((resolve, reject)=>{
    //         // resolve("Good!");
    //         reject("GG");
    //     });
    // }

    // axios => 라이브러리

    // const f_promise = function(p_url){
    //     return new Promise((resolve, reject)=>{
    //        let ajax = new XMLHttpRequest();
    //        ajax.open("GET",p_url,true);
    //        ajax.onreadystatechange = ()=>{
    //             if(ajax.readyState==4 && ajax.status==200){
    //                 resolve(ajax.responseText);
    //             }
    //        }
    //        ajax.send();
    //     });
    // }

    // axios => 라이브러리
    const axios = {}; // 네임스페이스용

    axios.get = function(p_url){
        return new Promise((resolve, reject)=>{
           let ajax = new XMLHttpRequest();
           ajax.open("GET",p_url,true);
           ajax.onreadystatechange = ()=>{
                if(ajax.readyState==4 && ajax.status==200){
                    resolve(ajax.responseText);
                }
           }
           ajax.send();
        });
    }




    // Promise를 리턴해주는 라이브러리를 사용할 때
    // f_promise().then((p_rslt)=>{ console.log("성공:",p_rslt) })
    //            .catch((p_error)=>{ console.log("실패:",p_error) })
    //            .finally(()=>{ console.log("난 무조건 성공!"); })

    // f_promise("/javaScript_ddit/37.하트만들기.html").then((p_rslt)=>{ console.log("성공:",p_rslt) })
    //            .catch((p_error)=>{ console.log("실패:",p_error) })
    //            .finally(()=>{ console.log("난 무조건 성공!"); })
    
    // f_promise("").then((p_rslt)=>{ console.log("성공:",p_rslt) })
    //            .catch((p_error)=>{ console.log("실패:",p_error) })
    //            .finally(()=>{ console.log("난 무조건 성공!"); })

    axios.get("../etc/mystyle.css").then((p_rslt)=>{ console.log("성공:",p_rslt) })
               .catch((p_error)=>{ console.log("실패:",p_error) })
               .finally(()=>{ console.log("난 무조건 성공!"); })
    
    axios.get("../js/keyword.js").then((p_rslt)=>{ console.log("성공:",p_rslt) })
               .catch((p_error)=>{ console.log("실패:",p_error) })
               .finally(()=>{ console.log("난 무조건 성공!"); })




    

</script>
