<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
    .wrapper {
        position: relative; /*static을 만들어진 뒤 이동*/
        width: 218px;
        height: 306px;
        left: 100px;
        top: 100px;
        border: 1px solid red;
    }
    .panel {
        position: absolute; /*부모 왼쪽 모서리 기준으로 움직인다.*/
        border: 1px solid blue;
    }
</style>
<script>
    // var v_lIndex = 0; // 초기값
    // function f_initZindex(p_layers) {
    //     for(var i=0; i< p_layers.length; i++){
    //         p_layers[i].style.zIndex = 1;
    //     }
    // }

    
    // function f_next(){
    //     var v_layers = document.querySelectorAll(".panel"); // querySelectorAll은 배열식으로 가져온다.
    //     var v_text = document.querySelector("#id_text");
    //     f_initZindex(v_layers);
    //     v_lIndex++;
    //     if(v_lIndex == v_layers.length){
    //         v_lIndex = 0; // 처음으로 되돌리기
    //     }
    //     v_text.value = (v_lIndex+1) + "/" + v_layers.length;
    //     v_layers[v_lIndex].style.zIndex = 999; // 가장 앞으로 끌어오기
    //     // 마지막 index에서 처음 index로 가게하기

    // }

    // function f_prev(){
    //     var v_layers = document.querySelectorAll(".panel"); // querySelectorAll은 배열식으로 가져온다.
    //     var v_text = document.querySelector("#id_text");
    //     f_initZindex(v_layers);
    //     v_lIndex--;
    //     if(v_lIndex == -1){
    //         v_lIndex = v_layers.length -1; // 끝으로 보내기
    //     }
    //     v_text.value = (v_lIndex+1) + "/" + v_layers.length;
    //     v_layers[v_lIndex].style.zIndex = 999; // 가장 앞으로 끌어오기

    // }

    // 오늘의 과제
    //setTimeout을 이용하여 자동으로 layer가 넘어가게 만들기, daum이나 naver처럼...

    var v_layers; // 아직 해당 태그가 안 만들어져 선언만 한다.
    var v_text;
    //v_text.value = 1 + "/" + v_layers.length;

    // window.onload 이벤트 자동 발생 시정은 html태그가 다 해석이 끝나고 페이지 내의 이미지 로딩까지 끝나면 발생
    window.onload = function(){
        alert("로딩이 끝났습니다.");
        v_layers = document.querySelectorAll(".panel");
        v_text = document.querySelector("#id_text");
        v_text.value = 1 + "/" + v_layers.length
        
        
    }

    var v_lIndex = 0; // 초기값
    function f_initZindex(p_layers) {
        for(var i=0; i< p_layers.length; i++){
            p_layers[i].style.zIndex = 1;
        }
    }

    
    function f_next(){
        //var v_layers = document.querySelectorAll(".panel"); // querySelectorAll은 배열식으로 가져온다.
        //var v_text = document.querySelector("#id_text");
        f_initZindex(v_layers);
        v_lIndex++;
        if(v_lIndex == v_layers.length){
            v_lIndex = 0; // 처음으로 되돌리기
        }
        v_text.value = (v_lIndex+1) + "/" + v_layers.length;
        v_layers[v_lIndex].style.zIndex = 999; // 가장 앞으로 끌어오기
        // 마지막 index에서 처음 index로 가게하기
        setTimeout(f_next,3000);
    }

    setTimeout(f_next,3000);

    // alert(v_text.value);
    function f_prev(){
        // var v_layers = document.querySelectorAll(".panel"); // querySelectorAll은 배열식으로 가져온다.
        // var v_text = document.querySelector("#id_text");
        f_initZindex(v_layers);
        v_lIndex--;
        if(v_lIndex == -1){
            v_lIndex = v_layers.length -1; // 끝으로 보내기
        }
        v_text.value = (v_lIndex+1) + "/" + v_layers.length;
        v_layers[v_lIndex].style.zIndex = 999; // 가장 앞으로 끌어오기

    }

    


</script>
</head>
<body>
    <input type="button" value="<" onclick="f_prev()">
    <input type="text" id="id_text" value="1/3" size="5">
    <input type="button" value=">" onclick="f_next()">
    <div class="wrapper">
        <div class="panel" style="z-index: 999;">
            <table border="1">
                <tr>
                    <td><img src="../images/나이키 어댑트.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/조던브레드.jpg" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/마스야드.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/디올조던.jpg" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/이지.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/조던 시카고.jpg" width="100px" height="90px"></td>
                </tr>
            </table>
        </div>
        <div class="panel" >
            <table border="1" style="z-index: 998;">
                <tr>
                    <td><img src="../images/개1.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/개2.jpg" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/개3.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/개4.jpg" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/개5.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/개6.jpg" width="100px" height="90px"></td>
                </tr>
            </table>
        </div>
        <div class="panel" >
            <table border="1" style="z-index: 997;">
                <tr>
                    <td><img src="../images/사람1.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/사람2.jpg" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/사람3.jpg" width="100px" height="90px"></td>
                    <td><img src="../images/사람4.jpg.crdownload" width="100px" height="90px"></td>
                </tr>
                <tr>
                    <td><img src="../images/사람5.jpg.crdownload" width="100px" height="90px"></td>
                    <td><img src="../images/사람6.jpg" width="100px" height="90px"></td>
                </tr>
            </table>
    </div>
    </div>
<script>
    /* 시퀀스(순서)상 아래에 두어 해결
    var v_layers = document.querySelectorAll(".panel");
    var v_text = document.querySelector("#id_text");
    v_text.value = 1 + "/" + v_layers.length;
    */
</script>
</body>
</html>